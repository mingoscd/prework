<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Exercise 3</title>
		<link rel="stylesheet" href="../estilos.css">
	</head>
	<body>
		<header>
			<figure>
				<img src="http://tech.co/wp-content/uploads/2014/04/iron_hack.png" alt="">
			</figure>
			<div>
				<h1>Ruby prework</h1>
			</div>
		</header>
		<section>
			<p><strong>Exercise 3:</strong>Write a program that provides us with a ShoppingCart class. The class should help us calculate the price of various items we add to it.</p>
			<ul class="specifications">
			 	<li>By default, items will have no discount.</li>
			 	<li>If an item has a discount, it should be calculated by calling a discount method on that item.</li>
			 	<li>Fruits have no discount during weekdays but on weekends they have a 10% discount.</li>
			 	<li>Housewares have no discount unless their unit price is more than 100€ / $100. In that case they have a 5% discount.</li>
			 	<li>When a customer has more than 5 items in their cart, they get a 10% discount for that purchase.</li>
			</ul> 
			<p style="margin-left: 5em">Create a shop that sells the following items <br>
				<ul class="specifications">
				 	<li>Bananas: 10€ / $10 each</li>
				 	<li>Orange Juice: 10€ / $10 each</li>
				 	<li>Rice: 1€ / $1 per unit</li>
				 	<li>Vacuum Cleaner: 150€ / $150</li>
				 	<li>Anchovies: 2€ / $2 each</li>
				 </ul> 
			</p>
			<p style="margin-left: 5em">( Note: the day is by default saturday (6) )</p>
			<br>
			<div class="tab">
				<div class="tab-bg"></div>
				<span>shoppingcart.rb</span>
			</div>
			<div class="code-text" style="width: 37%">
				<code>
<pre style="color: orange; font-family: monospace">
class Item
	attr_accessor :name, :price

	def initialize(name, price)
		@name = name
		@price = price
	end

	def discount()
		if self.class.name == "Fruit" && (@day==6 || @day==7)
			return self.price * 0.9
		elsif self.class.name == "Houseware" && self.price > 100
			return self.price * 0.95
		else
			return self.price
		end
	end 
end

class Fruit < Item
end

class Houseware < Item
end

class ShoppingCart
	@item_count
	@price
	def initialize(day)
		@day = day
		@item_count = 0
	end

	def add_item(item)
		puts "#{item.name} added to the ShoppingCart"
		@price = @price.to_i + item.discount.to_i
		@item_count = @item_count.to_i + 1.to_i
	end

	def pay
		if @item_count >= 5
			@price = @price * 0.9 
		end
		puts "The price of the products is: #{@price}"
	end
end
</pre>

<pre style="color: green; font-family: monospace">
#create objects in the Shop
bananas = Fruit.new("Bananas", 10)
orange_juice = Item.new("Orange_juice", 10)
rice = Item.new("Rice", 1)
vacuum_cleaner = Houseware.new("Vacuum_cleaner", 150)
anchovies = Item.new("Anchovies", 2)

#create shoppingcart and buy
cart = ShoppingCart.new 6
cart.add_item bananas
cart.add_item bananas
cart.add_item bananas
cart.add_item bananas
cart.add_item bananas
cart.add_item rice
cart.pay
</pre>
				</code>
			</div>
			<div class="button-layer" style="width: 37%">
				<button><a href="shoppingcart.rb" download>Download</a></button>				
			</div>

			<div class="prompt" style="top: 370px">
				<iframe id="iframe-prompt" src="http://repl.it/7P9/2" frameborder="0" style="height: 1300px"></iframe>
			</div>
		</section>
	</body>
<script>
	(function(){
		var x = document.getElementById("iframe-prompt");
		var y = (x.contentWindow || x.contentDocument);
		console.log(y);
		if (y.document)
			y = y.document;
		y.body.margin-top = "-120px";
	})();
</script>